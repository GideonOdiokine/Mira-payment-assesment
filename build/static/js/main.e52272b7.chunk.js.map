{"version":3,"sources":["components/Navbar.js","components/BlogItem.js","components/BlogLists.js","customHook/useFetch.js","views/Home.js","views/Create.js","views/BlogDetails.js","views/Edit.js","App.js","index.js"],"names":["Navbar","className","to","BlogItem","blog","handleDelete","id","title","author","onClick","BlogList","blogs","map","key","useFetch","url","useState","data","setData","loading","setLoading","error","setError","useEffect","abortCont","AbortController","fetch","signal","then","res","ok","Error","json","catch","err","name","console","log","message","abort","Home","a","method","BlogLists","Create","history","useHistory","setTitle","body","setBody","setAuthor","handleSubmit","e","preventDefault","alert","newLog","JSON","stringify","headers","push","onSubmit","type","value","onChange","target","required","BlogDetails","useParams","style","textDecoration","background","color","padding","pathname","state","Edit","props","handleUpdate","location","this","bind","setState","Component","withRouter","App","path","exact","render","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.e52272b7.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./styles/Navbar.css\";\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className=\"navbar\">\r\n      <Link to=\"/\">\r\n        <h2>CRUD APP</h2>\r\n      </Link>\r\n      <div className=\"links\">\r\n        <Link to=\"/\">Home </Link>\r\n        <Link to=\"/create\">New Blog </Link>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst BlogItem = ({ blog, handleDelete }) => {\r\n  return (\r\n    <div className=\"blog-preview flex\">\r\n      <div>\r\n        <Link to={`/blogs/${blog.id}`}>\r\n          <h2>{blog.title}</h2>\r\n        </Link>\r\n\r\n        <p>Written by {blog.author}</p>\r\n      </div>\r\n      <div className=\"del\">\r\n        <button onClick={() => handleDelete(blog.id)}>Delete</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BlogItem;\r\n","import React from \"react\";\r\nimport BlogItem from \"./BlogItem\";\r\n\r\nconst BlogList = ({ blogs, handleDelete }) => {\r\n  return (\r\n    <div className=\"blog-list\">\r\n      <h2>All blogs</h2>\r\n      {blogs?.map((blog) => (\r\n        <BlogItem blog={blog} handleDelete={handleDelete} key={blog.id} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BlogList;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nconst useFetch = (url) => {\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const abortCont = new AbortController();\r\n    fetch(url, { signal: abortCont.signal })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          throw Error(\"Could not fetch the data for that resource\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        setData(data);\r\n        setLoading(false);\r\n        setError(null);\r\n      })\r\n      .catch((err) => {\r\n        if (err.name === \"AbortError\") {\r\n          console.log(\"Fetch Aborted\");\r\n        } else {\r\n          setLoading(false);\r\n          setError(err.message);\r\n        }\r\n      });\r\n    return () => abortCont.abort();\r\n  }, [url, data]);\r\n\r\n  return { data, loading, error };\r\n};\r\n\r\nexport default useFetch;\r\n","import React from \"react\";\r\nimport BlogLists from \"../components/BlogLists\";\r\nimport \"./styles/Home.css\";\r\nimport useFetch from \"../customHook/useFetch\";\r\n\r\nconst Home = () => {\r\n  const {\r\n    data: blogs,\r\n    loading,\r\n    error,\r\n  } = useFetch(\"http://localhost:8000/blogs\");\r\n\r\n  const handleDelete = async (id) => {\r\n    await fetch(`http://localhost:8000/blogs/${id}`, {\r\n      method: \"DELETE\",\r\n    }).then(() => console.log(\"Great\"));\r\n  };\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      {error && <h4>{error}</h4>}\r\n      {loading && <h3>Loading....</h3>}\r\n      {blogs && <BlogLists blogs={blogs} handleDelete={handleDelete} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./styles/create.css\";\r\n\r\nconst Create = () => {\r\n  const history = useHistory();\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [author, setAuthor] = useState(\"Gideon\");\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (title === \"\" || body === \"\" || author === \"\") {\r\n      alert(\"Please fill the form\");\r\n    } else {\r\n      const newLog = {\r\n        title,\r\n        body,\r\n        author,\r\n      };\r\n      await fetch(\"http://localhost:8000/blogs\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(newLog),\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n      setTitle(\"\");\r\n      setBody(\"\");\r\n      setAuthor(\"Gideon\");\r\n      history.push(\"/\");\r\n    }\r\n    //  // const res = await fetch(`/logs/${log.id}`, {\r\n    //   method: \"PUT\",\r\n    //   body: JSON.stringify(log),\r\n    //   headers: {\r\n    //     \"Content-Type\": \"application/json\",\r\n    //   },\r\n    // });\r\n  };\r\n  return (\r\n    <div className=\"create\">\r\n      <h2>Add a New Blog</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>Blog title</label>\r\n        <input\r\n          type=\"text\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          required\r\n        />\r\n        <label>Blog body</label>\r\n        <textarea\r\n          required\r\n          value={body}\r\n          onChange={(e) => setBody(e.target.value)}\r\n        ></textarea>\r\n        <label>Blog author</label>\r\n        <select value={author} onChange={(e) => setAuthor(e.target.value)}>\r\n          <option value=\"Gideon\">Gideon</option>\r\n          <option value=\"Odiokine\">Odiokine</option>\r\n          <option value=\"Okon\">Okon</option>\r\n        </select>\r\n        <button>Add Blog</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport useFetch from \"../customHook/useFetch\";\r\n\r\nfunction BlogDetails() {\r\n  const { id } = useParams();\r\n  const {\r\n    data: blog,\r\n    loading,\r\n    error,\r\n  } = useFetch(`http://localhost:8000/blogs/${id}`);\r\n  return (\r\n    <div className=\"blog-details\">\r\n      <h3>Details of the blog {id}</h3>\r\n      {loading && <div>Loading </div>}\r\n      {error && <div>Error </div>}\r\n      {blog && (\r\n        <article>\r\n          <h2>{blog.title}</h2>\r\n          <p>Written By {blog.author}</p>\r\n          <div>{blog.body}</div>\r\n        </article>\r\n      )}\r\n      <Link\r\n        style={{\r\n          textDecoration: \"none\",\r\n          background: \"#f1356d\",\r\n          color: \"#fff\",\r\n          padding: \"10px\",\r\n        }}\r\n        to={{\r\n          pathname: \"/edit\",\r\n          state: { blog: blog },\r\n        }}\r\n      >\r\n        Edit blog\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BlogDetails;\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"./styles/create.css\";\r\n\r\nclass Edit extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const { title, body, author, id } = props.location.state.blog;\r\n    this.state = { title, body, author, id };\r\n  }\r\n\r\n  handleUpdate = (e) => {\r\n    e.preventDefault();\r\n    fetch(`http://localhost:8000/blogs/${this.state.id}`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(this.state),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then(() => {\r\n      this.props.history.push(\"/\");\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"create\">\r\n        <h2>Update a Blog</h2>\r\n        <form onSubmit={this.handleUpdate.bind(this)}>\r\n          <label>Blog title</label>\r\n          <input\r\n            name=\"title\"\r\n            type=\"text\"\r\n            onChange={(e) => this.setState({ title: e.target.value })}\r\n            required\r\n            value={this.state.title}\r\n          />\r\n          <label>Blog body</label>\r\n          <textarea\r\n            name=\"body\"\r\n            value={this.state.body}\r\n            onChange={(e) => this.setState({ body: e.target.value })}\r\n            required\r\n          ></textarea>\r\n          <label>Blog author</label>\r\n          <select\r\n            name=\"author\"\r\n            value={this.state.author}\r\n            onChange={(e) => this.setState({ author: e.target.value })}\r\n          >\r\n            <option value=\"Gideon\">Gideon</option>\r\n            <option value=\"Odiokine\">Odiokine</option>\r\n            <option value=\"Okon\">Okon</option>\r\n          </select>\r\n          <button>Update Blog</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default withRouter(Edit);\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport \"./App.css\";\r\nimport Navbar from \"./components/Navbar\";\r\nimport Home from \"./views/Home\";\r\nimport Create from \"./views/Create\";\r\nimport BlogDetails from \"./views/BlogDetails\";\r\n// import UpdateBlog from \"./views/UpdateBlog\";\r\nimport Edit from \"./views/Edit\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <Navbar />\r\n        <div className=\"content\">\r\n          <Switch>\r\n            <Route path=\"/\" exact>\r\n              <Home />\r\n            </Route>\r\n            <Route path=\"/create\">\r\n              <Create />\r\n            </Route>\r\n            <Route path=\"/blogs/:id\">\r\n              <BlogDetails />\r\n            </Route>\r\n            <Route path=\"/edit\" render={(props) => <Edit {...props} />} />\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\"\r\n// take the react component and show it on the screen\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}